# ?????
server.port=80
server.servlet.context-path=/api
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=20

# ?????
spring.datasource.url=jdbc:mariadb://140.134.25.66:3306/D1204433_CitizenCard3.1
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5

# JPA??
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.properties.hibernate.jdbc.batch_size=50

# JWT??
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# ????
cors.allowed-origins=https://citizencard.example.com
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# ??????
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# ????
logging.level.root=WARN
logging.level.org.example._citizencard3=INFO
logging.file.name=/var/log/citizencard/application.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30

# ????
spring.cache.type=redis
spring.data.redis.host=redis-server
spring.data.redis.port=6379
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.timeout=5000

# ????
server.ssl.enabled=true
server.ssl.key-store=/path/to/keystore.p12
server.ssl.key-store-password=${SSL_PASSWORD}
server.ssl.key-store-type=PKCS12

# ????
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true

# ????
spring.web.resources.cache.period=3600
spring.web.resources.chain.enabled=true
spring.web.resources.chain.strategy.content.enabled=true

# ????
management.endpoints.web.exposure.include=health,metrics,info
management.endpoint.health.show-details=when_authorized